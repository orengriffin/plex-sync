// Generated by CoffeeScript 1.9.3
(function() {
  $(function() {
    var dataArray, errorUl, input, li, liPre, socket, status, ul;
    dataArray = [];
    socket = io.connect('http://localhost:3000');
    li = function(txt) {
      return "<li>" + txt + "</li>";
    };
    liPre = function(txt) {
      return li("<pre>" + txt + "</pre>");
    };
    ul = $('.content ul');
    errorUl = $(".errors ul");
    status = $('#status');
    input = $('input');
    $('#connect').click(function(e) {
      var ip;
      if ((ip = input.val()).match(/^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/)) {
        return socket = io.connect("http://" + ip + ":3000");
      } else {
        return errorUl.append(li('not an ip'));
      }
    });
    $('#sync').click(function(e) {
      status.show();
      socket.emit('sync', {
        data: 'syncing'
      });
      return socket.on('answer', function(answer) {
        return ul.append(liPre(answer));
      });
    });
    $('#move').click(function(e) {
      status.show();
      return socket.emit('move-done-torrents', {
        data: 'syncing'
      });
    });
    $('#clear').click(function(e) {
      return $('ul').empty();
    });
    socket.on('done', function() {
      return status.hide();
    });
    return socket.on('error', function(error) {
      return errorUl.append(li(error));
    });
  });

}).call(this);

//# sourceMappingURL=app.js.map
